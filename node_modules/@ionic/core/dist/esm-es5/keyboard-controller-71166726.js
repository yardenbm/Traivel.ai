import{__awaiter,__generator}from"tslib";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */import{w as win,d as doc}from"./index-b32cad98.js";var KeyboardResize;(function(e){e["Body"]="body";e["Ionic"]="ionic";e["Native"]="native";e["None"]="none"})(KeyboardResize||(KeyboardResize={}));var Keyboard={getEngine:function(){var e;return((e=win===null||win===void 0?void 0:win.Capacitor)===null||e===void 0?void 0:e.isPluginAvailable("Keyboard"))&&(win===null||win===void 0?void 0:win.Capacitor.Plugins.Keyboard)},getResizeMode:function(){var e=this.getEngine();if(!(e===null||e===void 0?void 0:e.getResizeMode)){return Promise.resolve(undefined)}return e.getResizeMode().catch((function(e){if(e.code==="UNIMPLEMENTED"){return undefined}throw e}))}};var getResizeContainer=function(e){if(doc===undefined||e===KeyboardResize.None||e===undefined){return null}var n=doc.querySelector("ion-app");return n!==null&&n!==void 0?n:doc.body};var getResizeContainerHeight=function(e){var n=getResizeContainer(e);return n===null?0:n.clientHeight};var createKeyboardController=function(e){return __awaiter(void 0,void 0,void 0,(function(){var n,i,r,o,t,d,a,u,l;return __generator(this,(function(s){switch(s.label){case 0:t=function(){return __awaiter(void 0,void 0,void 0,(function(){var e,t;return __generator(this,(function(a){switch(a.label){case 0:return[4,Keyboard.getResizeMode()];case 1:e=a.sent();t=e===undefined?undefined:e.mode;n=function(){if(o===undefined){o=getResizeContainerHeight(t)}r=true;d(r,t)};i=function(){r=false;d(r,t)};win===null||win===void 0?void 0:win.addEventListener("keyboardWillShow",n);win===null||win===void 0?void 0:win.addEventListener("keyboardWillHide",i);return[2]}}))}))};d=function(n,i){if(e){e(n,a(i))}};a=function(e){if(o===0||o===getResizeContainerHeight(e)){return}var n=getResizeContainer(e);if(n===null){return}return new Promise((function(e){var i=function(){if(n.clientHeight===o){r.disconnect();e()}};var r=new ResizeObserver(i);r.observe(n)}))};u=function(){win===null||win===void 0?void 0:win.removeEventListener("keyboardWillShow",n);win===null||win===void 0?void 0:win.removeEventListener("keyboardWillHide",i);n=i=undefined};l=function(){return r};return[4,t()];case 1:s.sent();return[2,{init:t,destroy:u,isKeyboardVisible:l}]}}))}))};export{KeyboardResize as K,Keyboard as a,createKeyboardController as c};